import{_ as h}from"./index.8bc371d9.js";/* empty css              *//* empty css              */import{B as m,U as F,q as f,M as B,o as g,e as v,g as s,j as o,F as C,k as n,t as b,v as E,f as i,x as a}from"./arco.0ad5c2c8.js";import"./vue.dfc519f1.js";const D={data(){return{tipMsg:"",visible:!1,show_uuid:!1,file_uuid:"\u83B7\u53D6\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u4E0A\u4F20"}},setup(){return{}},methods:{uploadSuccess(l){const u=JSON.parse(l.response);if(console.log(u),u.code<=0){this.tipMsg=u.msg,this.visible=!0;return}this.file_uuid=u.uuid,this.show_uuid=!0},uploadError(){this.tipMsg="\u6587\u4EF6\u4E0A\u4F20\u9519\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u4E0A\u4F20\uFF01",this.visible=!0},check_status_butt(){console.log("\u83B7\u53D6\u8F6C\u6362\u72B6\u6001\u6309\u94AE\u6309\u4E0B"),this.$router.push({name:"status",params:{file_uuid:this.file_uuid}})},onRest(){window.location.reload()},go_more(){this.$router.push({name:"get"})}}};const k=i("br",null,null,-1),w=i("h2",null,"\u6587\u4EF6\u5BC6\u94A5\uFF0C\u8BF7\u59A5\u5584\u4FDD\u7BA1",-1),x={id:"show_file_uuid"};function A(l,u,y,S,t,e){const r=m,c=F,_=f,d=B;return g(),v(C,null,[s(_,{id:"main-card",title:"\u5F00\u542F\u667A\u80FD\u5236\u4F5C\u4E4B\u65C5",hoverable:""},{default:o(()=>[s(r,{type:"primary",long:"",onClick:e.go_more},{default:o(()=>[n("\u67E5\u770B\u66F4\u591A")]),_:1},8,["onClick"]),k,s(c,{draggable:"","with-credentials":!0,"show-remove-button":!1,action:"/api_v1/upload",limit:1,accept:".mp4",onSuccess:e.uploadSuccess,onError:e.uploadError},null,8,["onSuccess","onError"]),b(i("div",null,[w,i("h2",x,a(t.file_uuid),1),s(r,{type:"primary",long:"",onClick:e.check_status_butt},{default:o(()=>[n("\u83B7\u53D6\u8F6C\u6362\u72B6\u6001")]),_:1},8,["onClick"])],512),[[E,t.show_uuid]])]),_:1}),s(d,{visible:t.visible,"onUpdate:visible":u[0]||(u[0]=p=>t.visible=p),onOk:e.onRest,onCancel:e.onRest},{title:o(()=>[n(" \u63D0\u793A ")]),default:o(()=>[i("div",null,a(t.tipMsg),1)]),_:1},8,["visible","onOk","onCancel"])],64)}const V=h(D,[["render",A]]);export{V as default};
